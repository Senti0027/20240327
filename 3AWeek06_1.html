<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>質數列表</title>
    <script>
        function checkPrime() {
            let n = Number(document.getElementById("myNumber").value)
            let primes = [];
            let msg = "質數列表:";
            if (isNaN(n) || n < 2) window.alert("請輸入一個大於2的數值")
            else {//檢察介於2~n之間的所有質數    
                for (let i = 2; i <= n; i++) {
                    if (isPrime(i)) {
                        primes.push(i);
                        msg += `<span style="color:lightblue; border:2px dotted blue; padding:2px; ">${i}</span> `;
                    }
                    else msg += `<span style="color:black; ">${i}</span> `;
                }
                msg += "<br/>";
                //新增所有質數倍數的列表
                let cs = Math.trunc(360 / primes.length)
                for (let i = 0; i < primes.length; i++) {
                    msg += `<span style="color:hsl(${i * cs}, 100%, 50%) ">${primes[i]}的倍數:</span>`;
                    for (let k = primes[i]; k <= n; k += primes[i]) {
                        msg += `<span style="color:hsl(${k * cs}, 100%, 50%); ">${k} </span>`;
                    }
                    msg += "<br/>";
                }
                msg += "<br/>"
            }
            document.getElementById("result").innerHTML = msg;

        }
        function isPrime(num) {
            //判斷num是否為質數
            for (let i = 2; i < num; i++) {
                if (num % i == 0) return false;
            }
            return true;

        }
    </script>
    <style>
        div {
            font-size: 5px;
        }
    </style>
</head>

<body>
    <h1>請輸入一個數值:</h1>
    <input type="text" id="myNumber">
    <button type="button" onclick="checkPrime()">檢查</button>
    <p id="result">Pardon me</p>
</body>

</html>